<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Leona Hammelrath">
<meta name="dcterms.date" content="2024-04-15">

<title>PREACT: Data Compliance and Quality</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="Insight_PREACT_files/libs/clipboard/clipboard.min.js"></script>
<script src="Insight_PREACT_files/libs/quarto-html/quarto.js"></script>
<script src="Insight_PREACT_files/libs/quarto-html/popper.min.js"></script>
<script src="Insight_PREACT_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Insight_PREACT_files/libs/quarto-html/anchor.min.js"></script>
<link href="Insight_PREACT_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Insight_PREACT_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Insight_PREACT_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Insight_PREACT_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Insight_PREACT_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.12.1.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract"><span class="header-section-number">1</span> Abstract</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">2</span> Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods"><span class="header-section-number">3</span> Methods</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">4</span> Results</a>
  <ul class="collapse">
  <li><a href="#demographics" id="toc-demographics" class="nav-link" data-scroll-target="#demographics"><span class="header-section-number">4.1</span> Demographics</a></li>
  <li><a href="#study-status" id="toc-study-status" class="nav-link" data-scroll-target="#study-status"><span class="header-section-number">4.2</span> Study status</a></li>
  <li><a href="#gps" id="toc-gps" class="nav-link" data-scroll-target="#gps"><span class="header-section-number">4.3</span> GPS</a></li>
  <li><a href="#passive-data" id="toc-passive-data" class="nav-link" data-scroll-target="#passive-data"><span class="header-section-number">4.4</span> Passive data</a></li>
  <li><a href="#ema-data" id="toc-ema-data" class="nav-link" data-scroll-target="#ema-data"><span class="header-section-number">4.5</span> EMA data</a></li>
  <li><a href="#data-coverage-across-time" id="toc-data-coverage-across-time" class="nav-link" data-scroll-target="#data-coverage-across-time"><span class="header-section-number">4.6</span> Data coverage across time</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PREACT: Data Compliance and Quality</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Leona Hammelrath </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 15, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="abstract" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="abstract"><span class="header-section-number">1</span> Abstract</h2>
<p>First Data for Passive Data Collection using Smartwatches and GPS from the PREACT Study.</p>
</section>
<section id="introduction" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="introduction"><span class="header-section-number">2</span> Introduction</h2>
<p>Treatment personalization is highly discussed to counteract insufficient response rates in psychotherapy. In the quest for criteria allowing informed selection or adaptation, ambulatory assessment data (i.e.&nbsp;EMA, passive sensing)are a key component, as processes happening outside of therapy sessions can be depicted in high temporal and/or spatial resolution.</p>
<p>PREACT is a multicenter prospective-longitudinal study investigating different predictors of non-response (i.e.&nbsp;EEG, fMRI) in around 500 patients undergoing cognitive behavioral therapy for internalizing disorders (https://forschungsgruppe5187.de/de).</p>
</section>
<section id="methods" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="methods"><span class="header-section-number">3</span> Methods</h2>
<p>Patients can enroll for therapy-accompanying ambulatory assessment. They are provided with a customized study app and a state-of-the-art smartwatch collecting passive data like GPS and heart rate for up to 365 days. In parallel, three 14-day EMA phases (pre-, mid- and post-therapy) cover transdiagnostic (i.e.&nbsp;emotion regulation), contextual and therapy-related aspects.</p>
<p>Here, we present first results on data compliance and quality for the passive sensing data as well as EMA assessments. The results are based on data that was downloaded on <strong>15.04.2024</strong>.</p>
</section>
<section id="results" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="results"><span class="header-section-number">4</span> Results</h2>
<div id="cell-3" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Markdown</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime <span class="im">as</span> dt</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> date, datetime</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> kruskal</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.io <span class="im">as</span> pio</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.subplots <span class="im">import</span> make_subplots</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> config <span class="im">import</span> datapath, proj_sheet</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> help_functions </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>today <span class="op">=</span> <span class="st">"15042024"</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(datapath <span class="op">+</span> <span class="ss">f'/ema_data_</span><span class="sc">{</span>today<span class="sc">}</span><span class="ss">.pkl'</span>, <span class="st">'rb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    df_active <span class="op">=</span> pickle.load(<span class="bu">file</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(datapath <span class="op">+</span> <span class="ss">f'/gps_data_</span><span class="sc">{</span>today<span class="sc">}</span><span class="ss">.pkl'</span>, <span class="st">'rb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    df_gps <span class="op">=</span> pickle.load(<span class="bu">file</span>)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(datapath <span class="op">+</span> <span class="ss">f'/passive_data_</span><span class="sc">{</span>today<span class="sc">}</span><span class="ss">.pkl'</span>, <span class="st">'rb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    df_passive <span class="op">=</span> pickle.load(<span class="bu">file</span>)</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(datapath <span class="op">+</span> <span class="ss">f'/monitoring_data_</span><span class="sc">{</span>today<span class="sc">}</span><span class="ss">.pkl'</span>, <span class="st">'rb'</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    df_monitoring <span class="op">=</span> pickle.load(<span class="bu">file</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="demographics" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="demographics"><span class="header-section-number">4.1</span> Demographics</h3>
<div id="cell-5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify your variables</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>continuous_vars <span class="op">=</span> [<span class="st">'age'</span>, <span class="st">'bsi_gsi'</span>, <span class="st">'ses'</span>, <span class="st">'costs_ema_burden'</span>, <span class="st">'costs_ema_min'</span>]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>categorical_vars <span class="op">=</span> [<span class="st">'gender_description'</span>, <span class="st">'scid_cv_description'</span>, <span class="st">'ema_smartphone_description'</span>, <span class="st">'employability_description'</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'prior_treatment_description'</span>, <span class="st">'ema_wear_exp'</span>, <span class="st">'ema_special_event_description'</span>]</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>demographic_table <span class="op">=</span> help_functions.format_demographics(df_monitoring, continuous_vars, categorical_vars)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Output as Markdown</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to Markdown and display</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>markdown_output <span class="op">=</span> demographic_table.to_markdown()</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>display(Markdown(markdown_output))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 57%">
<col style="width: 14%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Overall</th>
<th style="text-align: left;">Min</th>
<th style="text-align: left;">Max</th>
<th style="text-align: left;">Missing (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>age, mean (SD)</strong></td>
<td style="text-align: left;">32.45 (10.88)</td>
<td style="text-align: left;">19.00</td>
<td style="text-align: left;">65.00</td>
<td style="text-align: left;">13 (6.31%)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>bsi_gsi, mean (SD)</strong></td>
<td style="text-align: left;">1.30 (0.57)</td>
<td style="text-align: left;">0.32</td>
<td style="text-align: left;">3.68</td>
<td style="text-align: left;">25 (12.14%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>ses, mean (SD)</strong></td>
<td style="text-align: left;">2.32 (1.03)</td>
<td style="text-align: left;">1.00</td>
<td style="text-align: left;">5.00</td>
<td style="text-align: left;">13 (6.31%)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>costs_ema_burden, mean (SD)</strong></td>
<td style="text-align: left;">2.64 (1.09)</td>
<td style="text-align: left;">1.00</td>
<td style="text-align: left;">5.00</td>
<td style="text-align: left;">91 (44.17%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>costs_ema_min, mean (SD)</strong></td>
<td style="text-align: left;">90.47 (178.43)</td>
<td style="text-align: left;">1.00</td>
<td style="text-align: left;">999.00</td>
<td style="text-align: left;">100 (48.54%)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>gender_description</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">13 (6.31%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">female, n (%)</td>
<td style="text-align: left;">118 (61.14%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">male, n (%)</td>
<td style="text-align: left;">69 (35.75%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">not specified, n (%)</td>
<td style="text-align: left;">3 (1.55%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">diverse, n (%)</td>
<td style="text-align: left;">2 (1.04%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">no gender, n (%)</td>
<td style="text-align: left;">1 (0.52%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>scid_cv_description</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">14 (6.80%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Depressive Disorder, n (%)</td>
<td style="text-align: left;">92 (47.92%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Social Anxiety Disorder, n (%)</td>
<td style="text-align: left;">32 (16.67%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Obsessive-Compulsive Disorder, n (%)</td>
<td style="text-align: left;">27 (14.06%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Generalized Anxiety Disorder, n (%)</td>
<td style="text-align: left;">15 (7.81%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Agoraphobia and/or Panic Disorder, n (%)</td>
<td style="text-align: left;">11 (5.73%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Post-Traumatic Stress Disorder, n (%)</td>
<td style="text-align: left;">11 (5.73%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Specific Phobia, n (%)</td>
<td style="text-align: left;">4 (2.08%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>ema_smartphone_description</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0 (0.00%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">iPhone, n (%)</td>
<td style="text-align: left;">109 (52.91%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Android, n (%)</td>
<td style="text-align: left;">97 (47.09%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>employability_description</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">13 (6.31%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">employable, n (%)</td>
<td style="text-align: left;">161 (83.42%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">unemployable (on sick leave), n (%)</td>
<td style="text-align: left;">22 (11.4%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">other, n (%)</td>
<td style="text-align: left;">5 (2.59%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">on disability pension, n (%)</td>
<td style="text-align: left;">5 (2.59%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>prior_treatment_description</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">13 (6.31%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">no prior treatment, n (%)</td>
<td style="text-align: left;">76 (39.38%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">outpatient psychotherapy, n (%)</td>
<td style="text-align: left;">65 (33.68%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">both, n (%)</td>
<td style="text-align: left;">30 (15.54%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">inpatient or partial inpatient treatment/psychotherapy, n (%)</td>
<td style="text-align: left;">15 (7.77%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">yes, n (%)</td>
<td style="text-align: left;">7 (3.63%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>ema_wear_exp</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">20 (9.71%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.0, n (%)</td>
<td style="text-align: left;">109 (58.6%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">1.0, n (%)</td>
<td style="text-align: left;">77 (41.4%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>ema_special_event_description</strong></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">0 (0.00%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">usual, n (%)</td>
<td style="text-align: left;">150 (72.82%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">special event, n (%)</td>
<td style="text-align: left;">56 (27.18%)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="cell-6" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pie chart for 'scid_cv_description'</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>scid_counts <span class="op">=</span> df_monitoring[<span class="st">'scid_cv_description'</span>].value_counts().reset_index()</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>scid_counts.columns <span class="op">=</span> [<span class="st">'SCID_CV_Category'</span>, <span class="st">'Counts'</span>]  <span class="co"># Renaming columns for clarity in Plotly</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.pie(scid_counts, values<span class="op">=</span><span class="st">'Counts'</span>, names<span class="op">=</span><span class="st">'SCID_CV_Category'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>             title<span class="op">=</span><span class="st">'Distribution of SCID Primary Categories'</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>             color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Set3,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>             labels<span class="op">=</span>{<span class="st">'SCID_CV_Category'</span>: <span class="st">'SCID Category'</span>})  <span class="co"># Labels for hover data</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>fig.update_traces(textposition<span class="op">=</span><span class="st">'outside'</span>, textinfo<span class="op">=</span><span class="st">'percent+label'</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="31f843f1-ae94-48f2-b56c-619964c88f83" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("31f843f1-ae94-48f2-b56c-619964c88f83")) {                    Plotly.newPlot(                        "31f843f1-ae94-48f2-b56c-619964c88f83",                        [{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"hovertemplate":"SCID Category=%{label}<br>Counts=%{value}<extra></extra>","labels":["Depressive Disorder","Social Anxiety Disorder","Obsessive-Compulsive Disorder","Generalized Anxiety Disorder","Agoraphobia and/or Panic Disorder","Post-Traumatic Stress Disorder","Specific Phobia"],"legendgroup":"","name":"","showlegend":true,"values":[92,32,27,15,11,11,4],"type":"pie","textinfo":"percent+label","textposition":"outside"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"title":{"text":"Distribution of SCID Primary Categories"},"piecolorway":["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('31f843f1-ae94-48f2-b56c-619964c88f83');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="study-status" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="study-status"><span class="header-section-number">4.2</span> Study status</h3>
<div id="cell-8" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a subplot layout</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(rows<span class="op">=</span><span class="dv">1</span>, cols<span class="op">=</span><span class="dv">2</span>, subplot_titles<span class="op">=</span>(<span class="st">'Histogram of Study Versions'</span>, <span class="st">'Histogram of Status'</span>))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>total_participants <span class="op">=</span> df_monitoring.customer.nunique()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for 'study_version'</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>study_version_data <span class="op">=</span> df_monitoring[<span class="st">'study_version'</span>].value_counts().reset_index()</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>study_version_data.columns <span class="op">=</span> [<span class="st">'Study Version'</span>, <span class="st">'Counts'</span>]</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    go.Bar(</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>study_version_data[<span class="st">'Study Version'</span>],</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>study_version_data[<span class="st">'Counts'</span>],</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'lightseagreen'</span>),</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>study_version_data[<span class="st">'Counts'</span>],</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        textposition<span class="op">=</span><span class="st">'auto'</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Define active statuses</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>active_statuses <span class="op">=</span> [<span class="st">'Erhebung_1_aktiv'</span>, <span class="st">'Post_Erhebung_1'</span>, <span class="st">'Post_Erhebung_2'</span>, <span class="st">'Erhebung_2_aktiv'</span>]</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram for 'status' with conditional coloring</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>status_data <span class="op">=</span> df_monitoring[<span class="st">'status'</span>].value_counts().reset_index()</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>status_data.columns <span class="op">=</span> [<span class="st">'Status'</span>, <span class="st">'Counts'</span>]</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate colors based on condition</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [<span class="st">'lightseagreen'</span> <span class="cf">if</span> status <span class="kw">in</span> active_statuses <span class="cf">else</span> <span class="st">'gray'</span> <span class="cf">for</span> status <span class="kw">in</span> status_data[<span class="st">'Status'</span>]]</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    go.Bar(</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>status_data[<span class="st">'Status'</span>],</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>status_data[<span class="st">'Counts'</span>],</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span>colors),</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>status_data[<span class="st">'Counts'</span>],</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>        textposition<span class="op">=</span><span class="st">'auto'</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">2</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout settings</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    title_text<span class="op">=</span> <span class="ss">f"Study version and study status for N= </span><span class="sc">{</span>total_participants<span class="sc">}</span><span class="ss"> patients"</span>,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span>, width<span class="op">=</span><span class="dv">1000</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="b22ca61d-0cdf-44cf-afb4-253637b40b42" class="plotly-graph-div" style="height:500px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b22ca61d-0cdf-44cf-afb4-253637b40b42")) {                    Plotly.newPlot(                        "b22ca61d-0cdf-44cf-afb4-253637b40b42",                        [{"marker":{"color":"lightseagreen"},"text":[131.0,51.0,17.0,7.0],"textposition":"auto","x":["Lang","Kurz","Lang (Wechsel)","Kurz (Wechsel/Abbruch)"],"y":[131,51,17,7],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":["lightseagreen","gray","gray","lightseagreen","lightseagreen","lightseagreen","gray"]},"text":[99.0,54.0,18.0,15.0,13.0,4.0,3.0],"textposition":"auto","x":["Post_Erhebung_1","Abgeschlossen","Dropout","Post_Erhebung_2","Erhebung_1_aktiv","Erhebung_2_aktiv","Pin_missing"],"y":[99,54,18,15,13,4,3],"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.45]},"yaxis":{"anchor":"x","domain":[0.0,1.0]},"xaxis2":{"anchor":"y2","domain":[0.55,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,1.0]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Histogram of Study Versions","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Histogram of Status","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"title":{"text":"Study version and study status for N= 204 patients"},"showlegend":false,"height":500,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b22ca61d-0cdf-44cf-afb4-253637b40b42');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="gps" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="gps"><span class="header-section-number">4.3</span> GPS</h3>
<div id="cell-10" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df_gps_merged <span class="op">=</span> df_gps.merge(df_monitoring, on <span class="op">=</span> <span class="st">"customer"</span>, how<span class="op">=</span><span class="st">"inner"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-11" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_gps_coverage <span class="op">=</span> df_gps_merged[[<span class="st">"customer"</span>, <span class="st">"data_coverage_per"</span>, <span class="st">"bsi_gsi"</span>, <span class="st">"age"</span>, <span class="st">"ema_smartphone_description"</span>,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"scid_cv_description"</span>, <span class="st">"gender_description"</span>]].drop_duplicates(subset<span class="op">=</span>[<span class="st">"customer"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-12" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming df_gps_coverage is your DataFrame</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.violin(df_gps_coverage, </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                y<span class="op">=</span><span class="st">"data_coverage_per"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                x<span class="op">=</span><span class="st">"ema_smartphone_description"</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                box<span class="op">=</span><span class="va">True</span>,  <span class="co"># Shows a box plot inside the violin</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                title<span class="op">=</span><span class="st">"GPS Coverage per Smartphone"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="df948730-a6d3-4242-b590-59cce3f42285" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("df948730-a6d3-4242-b590-59cce3f42285")) {                    Plotly.newPlot(                        "df948730-a6d3-4242-b590-59cce3f42285",                        [{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"ema_smartphone_description=%{x}<br>data_coverage_per=%{y}<extra></extra>","legendgroup":"","marker":{"color":"#636efa"},"name":"","offsetgroup":"","orientation":"v","scalegroup":"True","showlegend":false,"x":["iPhone","iPhone","Android","Android","iPhone","Android","Android","Android","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","iPhone","Android","iPhone","iPhone","Android","iPhone","Android","iPhone","iPhone","iPhone","Android","Android","Android","Android","iPhone","iPhone","Android","Android","Android","Android","iPhone","Android","Android","iPhone","iPhone","Android","iPhone","iPhone","iPhone","Android","iPhone","Android","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","iPhone","iPhone","Android","iPhone","Android","iPhone","iPhone","Android","Android","Android","Android","Android","Android","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","iPhone","Android","iPhone","Android","Android","Android","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","iPhone","Android","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","Android","iPhone","Android","iPhone","Android","iPhone","Android","iPhone","Android","Android","iPhone","iPhone","Android","iPhone","Android","Android","Android","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","iPhone","Android","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","Android","Android","Android","Android","Android","Android","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","iPhone","iPhone","Android","iPhone","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","Android","Android","iPhone","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","iPhone","iPhone","Android"],"x0":" ","xaxis":"x","y":[87.5,28.104575163398692,12.021857923497267,30.107526881720432,35.22727272727273,7.428571428571429,36.36363636363637,36.206896551724135,12.903225806451612,19.565217391304348,87.79069767441861,0.6172839506172839,15.028901734104046,17.46031746031746,40.98360655737705,10.21505376344086,72.0,82.88770053475936,64.12213740458014,19.12568306010929,96.875,78.3068783068783,74.60317460317461,61.212121212121204,95.23809523809523,33.82352941176471,41.66666666666667,43.90243902439025,3.0864197530864197,79.67914438502673,99.46808510638297,33.5483870967742,29.464285714285715,11.904761904761903,48.888888888888886,77.61194029850746,68.18181818181817,28.169014084507044,17.88617886178862,92.0,0.7874015748031495,97.53086419753086,54.25531914893617,81.02189781021897,76.0,95.18716577540107,45.1219512195122,21.50537634408602,83.42245989304813,33.69565217391305,77.6595744680851,33.33333333333333,81.48148148148148,97.16312056737588,92.52873563218391,92.06349206349206,6.422018348623854,10.967741935483872,19.444444444444446,64.55026455026454,89.44099378881988,2.6785714285714284,30.681818181818183,61.29032258064516,49.18032786885246,44.44444444444444,90.9090909090909,55.223880597014926,90.86021505376344,30.057803468208093,6.569343065693431,2.1164021164021163,9.58904109589041,80.0,90.37433155080214,13.10344827586207,89.78494623655914,92.3076923076923,8.60215053763441,21.98581560283688,83.87096774193549,71.42857142857143,25.97402597402597,7.142857142857142,84.21052631578947,94.8051948051948,71.875,65.60846560846561,1.098901098901099,22.674418604651162,2.0,17.582417582417584,11.510791366906476,3.428571428571429,21.73913043478261,72.97297297297297,57.692307692307686,86.89655172413792,17.72151898734177,25.581395348837212,85.02673796791443,95.13888888888889,16.901408450704224,6.521739130434782,95.45454545454545,3.7593984962406015,12.903225806451612,53.54330708661418,71.12299465240642,58.333333333333336,91.66666666666666,54.395604395604394,26.666666666666668,87.83068783068782,29.72972972972973,50.0,62.589928057553955,33.68983957219251,6.578947368421052,20.855614973262032,85.71428571428571,38.095238095238095,64.70588235294117,40.625,96.29629629629629,98.75,95.0,41.340782122905026,7.936507936507936,46.36871508379888,28.08988764044944,80.26315789473685,28.205128205128204,33.9622641509434,56.00000000000001,96.42857142857143,72.4867724867725,39.884393063583815,54.23728813559322,32.544378698224854,3.428571428571429,18.181818181818183,80.95238095238095,58.730158730158735,84.84848484848484,93.01075268817203,88.26815642458101,18.823529411764707,68.08510638297872,89.01098901098901,83.13253012048193,85.0,86.1271676300578,7.471264367816093,57.25190839694656,84.57446808510637,92.53731343283582,13.445378151260504,26.41509433962264,92.42424242424242,49.2063492063492,73.91304347826086,28.07017543859649,80.95238095238095,43.103448275862064,80.42328042328042,93.10344827586206,87.09677419354838,49.30555555555556,30.88235294117647,28.07017543859649,77.35849056603774,94.97206703910615,30.89430894308943,81.48148148148148,88.37209302325581],"y0":" ","yaxis":"y","type":"violin"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"ema_smartphone_description"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"data_coverage_per"}},"legend":{"tracegroupgap":0},"title":{"text":"GPS Coverage per Smartphone"},"violinmode":"group"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('df948730-a6d3-4242-b590-59cce3f42285');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="cell-13" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming df_gps_coverage is your DataFrame</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.violin(df_gps_coverage, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                y<span class="op">=</span><span class="st">"data_coverage_per"</span>, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                x<span class="op">=</span><span class="st">"scid_cv_description"</span>, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                points<span class="op">=</span><span class="st">'all'</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                box<span class="op">=</span><span class="va">True</span>,  <span class="co"># Shows a box plot inside the violin</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                title<span class="op">=</span><span class="st">"GPS Coverage per Scid Diagnosis"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="8bf67993-339a-4474-93e5-4d66fa4d2869" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8bf67993-339a-4474-93e5-4d66fa4d2869")) {                    Plotly.newPlot(                        "8bf67993-339a-4474-93e5-4d66fa4d2869",                        [{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"scid_cv_description=%{x}<br>data_coverage_per=%{y}<extra></extra>","legendgroup":"","marker":{"color":"#636efa"},"name":"","offsetgroup":"","orientation":"v","points":"all","scalegroup":"True","showlegend":false,"x":["Social Anxiety Disorder","Social Anxiety Disorder","Generalized Anxiety Disorder","Agoraphobia and/or Panic Disorder","Social Anxiety Disorder","Depressive Disorder","Depressive Disorder","Obsessive-Compulsive Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Social Anxiety Disorder","Social Anxiety Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Social Anxiety Disorder","Generalized Anxiety Disorder","Obsessive-Compulsive Disorder","Generalized Anxiety Disorder","Depressive Disorder","Obsessive-Compulsive Disorder","Agoraphobia and/or Panic Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Depressive Disorder",null,"Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Social Anxiety Disorder","Depressive Disorder","Depressive Disorder","Obsessive-Compulsive Disorder","Agoraphobia and/or Panic Disorder","Agoraphobia and/or Panic Disorder","Agoraphobia and/or Panic Disorder","Social Anxiety Disorder","Post-Traumatic Stress Disorder","Social Anxiety Disorder","Generalized Anxiety Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Generalized Anxiety Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Post-Traumatic Stress Disorder","Depressive Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Obsessive-Compulsive Disorder",null,"Depressive Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Obsessive-Compulsive Disorder","Obsessive-Compulsive Disorder","Depressive Disorder",null,"Depressive Disorder","Generalized Anxiety Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Depressive Disorder","Generalized Anxiety Disorder","Generalized Anxiety Disorder","Depressive Disorder","Obsessive-Compulsive Disorder","Obsessive-Compulsive Disorder","Agoraphobia and/or Panic Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Obsessive-Compulsive Disorder","Social Anxiety Disorder",null,"Depressive Disorder","Depressive Disorder","Post-Traumatic Stress Disorder","Depressive Disorder","Social Anxiety Disorder","Depressive Disorder","Social Anxiety Disorder","Depressive Disorder","Obsessive-Compulsive Disorder",null,"Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Post-Traumatic Stress Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Social Anxiety Disorder","Specific Phobia","Depressive Disorder","Post-Traumatic Stress Disorder","Post-Traumatic Stress Disorder","Specific Phobia","Obsessive-Compulsive Disorder","Social Anxiety Disorder","Social Anxiety Disorder","Depressive Disorder","Depressive Disorder",null,"Social Anxiety Disorder",null,null,"Agoraphobia and/or Panic Disorder","Depressive Disorder","Post-Traumatic Stress Disorder","Post-Traumatic Stress Disorder",null,"Social Anxiety Disorder","Social Anxiety Disorder","Obsessive-Compulsive Disorder","Depressive Disorder","Social Anxiety Disorder","Obsessive-Compulsive Disorder",null,"Depressive Disorder","Social Anxiety Disorder","Depressive Disorder","Generalized Anxiety Disorder","Depressive Disorder","Depressive Disorder",null,"Generalized Anxiety Disorder",null,"Obsessive-Compulsive Disorder","Depressive Disorder","Social Anxiety Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Agoraphobia and/or Panic Disorder","Depressive Disorder","Generalized Anxiety Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Agoraphobia and/or Panic Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Social Anxiety Disorder","Social Anxiety Disorder","Depressive Disorder","Depressive Disorder","Depressive Disorder","Social Anxiety Disorder","Social Anxiety Disorder","Depressive Disorder","Specific Phobia","Generalized Anxiety Disorder",null,"Social Anxiety Disorder","Depressive Disorder","Depressive Disorder","Post-Traumatic Stress Disorder"],"x0":" ","xaxis":"x","y":[87.5,28.104575163398692,12.021857923497267,30.107526881720432,35.22727272727273,7.428571428571429,36.36363636363637,36.206896551724135,12.903225806451612,19.565217391304348,87.79069767441861,0.6172839506172839,15.028901734104046,17.46031746031746,40.98360655737705,10.21505376344086,72.0,82.88770053475936,64.12213740458014,19.12568306010929,96.875,78.3068783068783,74.60317460317461,61.212121212121204,95.23809523809523,33.82352941176471,41.66666666666667,43.90243902439025,3.0864197530864197,79.67914438502673,99.46808510638297,33.5483870967742,29.464285714285715,11.904761904761903,48.888888888888886,77.61194029850746,68.18181818181817,28.169014084507044,17.88617886178862,92.0,0.7874015748031495,97.53086419753086,54.25531914893617,81.02189781021897,76.0,95.18716577540107,45.1219512195122,21.50537634408602,83.42245989304813,33.69565217391305,77.6595744680851,33.33333333333333,81.48148148148148,97.16312056737588,92.52873563218391,92.06349206349206,6.422018348623854,10.967741935483872,19.444444444444446,64.55026455026454,89.44099378881988,2.6785714285714284,30.681818181818183,61.29032258064516,49.18032786885246,44.44444444444444,90.9090909090909,55.223880597014926,90.86021505376344,30.057803468208093,6.569343065693431,2.1164021164021163,9.58904109589041,80.0,90.37433155080214,13.10344827586207,89.78494623655914,92.3076923076923,8.60215053763441,21.98581560283688,83.87096774193549,71.42857142857143,25.97402597402597,7.142857142857142,84.21052631578947,94.8051948051948,71.875,65.60846560846561,1.098901098901099,22.674418604651162,2.0,17.582417582417584,11.510791366906476,3.428571428571429,21.73913043478261,72.97297297297297,57.692307692307686,86.89655172413792,17.72151898734177,25.581395348837212,85.02673796791443,95.13888888888889,16.901408450704224,6.521739130434782,95.45454545454545,3.7593984962406015,12.903225806451612,53.54330708661418,71.12299465240642,58.333333333333336,91.66666666666666,54.395604395604394,26.666666666666668,87.83068783068782,29.72972972972973,50.0,62.589928057553955,33.68983957219251,6.578947368421052,20.855614973262032,85.71428571428571,38.095238095238095,64.70588235294117,40.625,96.29629629629629,98.75,95.0,41.340782122905026,7.936507936507936,46.36871508379888,28.08988764044944,80.26315789473685,28.205128205128204,33.9622641509434,56.00000000000001,96.42857142857143,72.4867724867725,39.884393063583815,54.23728813559322,32.544378698224854,3.428571428571429,18.181818181818183,80.95238095238095,58.730158730158735,84.84848484848484,93.01075268817203,88.26815642458101,18.823529411764707,68.08510638297872,89.01098901098901,83.13253012048193,85.0,86.1271676300578,7.471264367816093,57.25190839694656,84.57446808510637,92.53731343283582,13.445378151260504,26.41509433962264,92.42424242424242,49.2063492063492,73.91304347826086,28.07017543859649,80.95238095238095,43.103448275862064,80.42328042328042,93.10344827586206,87.09677419354838,49.30555555555556,30.88235294117647,28.07017543859649,77.35849056603774,94.97206703910615,30.89430894308943,81.48148148148148,88.37209302325581],"y0":" ","yaxis":"y","type":"violin"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"scid_cv_description"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"data_coverage_per"}},"legend":{"tracegroupgap":0},"title":{"text":"GPS Coverage per Scid Diagnosis"},"violinmode":"group"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8bf67993-339a-4474-93e5-4d66fa4d2869');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="cell-14" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(df_gps_coverage, </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                 x<span class="op">=</span><span class="st">'bsi_gsi'</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                 y<span class="op">=</span><span class="st">'data_coverage_per'</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                 title<span class="op">=</span><span class="st">'Correlation between data coverage and Global Severity Index'</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                 labels<span class="op">=</span>{<span class="st">'bsi_gsi'</span>: <span class="st">'BSI_GSI'</span>, <span class="st">'data_coverage_per'</span>: <span class="st">'Data Coverage (%)'</span>},</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                 trendline<span class="op">=</span><span class="st">"ols"</span>)  <span class="co"># Adds a trend line using ordinary least squares regression</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="aa3107f0-35cc-444d-8c67-2f1c2b7618cb" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("aa3107f0-35cc-444d-8c67-2f1c2b7618cb")) {                    Plotly.newPlot(                        "aa3107f0-35cc-444d-8c67-2f1c2b7618cb",                        [{"hovertemplate":"BSI_GSI=%{x}<br>Data Coverage (%)=%{y}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[null,1.1132075471698,0.5660377358490566,1.169811320754717,1.3962264150943395,1.4339622641509433,1.830188679245283,2.188679245283019,0.9245283018867924,1.0754716981132,1.2641509433962264,2.849056603773585,0.8867924528301887,0.8113207547169812,1.150943396226415,0.7924528301886793,null,1.3773584905660377,1.339622641509434,1.018867924528302,null,1.1886792452830188,1.5660377358490567,1.4339622641509433,null,1.6037735849056605,null,1.339622641509434,1.1320754716981132,1.2264150943396226,0.9622641509433962,1.2641509433962,0.9811320754716981,1.679245283018868,1.830188679245283,2.811320754716981,1.9811320754717,null,1.1320754716981132,null,0.660377358490566,0.7924528301886793,0.8301886792452831,1.2452830188679245,null,1.320754716981132,1.69811320754717,0.7924528301886793,0.981132075471698,1.4150943396226414,1.7358490566037736,1.6037735849056605,1.622641509434,1.3207547169811,1.018867924528302,1.320754716981132,0.7358490566037735,1.1320754716981,1.0943396226415094,1.5849056603774,0.8301886792452831,2.358490566037736,1.849056603773585,1.0566037735849,1.2264150943396226,1.0754716981132075,null,0.69811320754717,0.5094339622641509,0.5283018867924528,1.2452830188679245,1.1132075471698113,0.7547169811320755,0.5849056603773585,0.981132075471698,0.8490566037735849,0.9056603773584906,null,0.9622641509433962,1.5849056603773586,1.0754716981132075,0.9433962264150944,1.018867924528302,2.8867924528301887,0.79245283018868,1.4150943396226414,2.150943396226415,0.7358490566037735,1.0566037735849056,1.3962264150943395,2.150943396226415,0.7547169811320755,1.7358490566037736,1.5660377358490567,1.0188679245283,1.1132075471698113,null,1.5660377358491,1.0566037735849056,0.6981132075471698,1.6981132075472,1.4528301886792,1.4339622641509433,0.9622641509433962,null,2.5283018867924527,1.0943396226415094,3.509433962264151,1.5660377358491,1.0377358490566,null,1.3584905660377358,0.6981132075471698,1.6415094339622642,null,0.4716981132075472,3.679245283018868,1.8867924528301887,1.8113207547169807,0.4339622641509434,null,null,0.9622641509433962,null,1.490566037735849,0.9622641509434,1.471698113207547,1.490566037735849,0.7735849056603774,1.811320754717,0.8490566037735849,1.811320754717,1.0754716981132075,1.4339622641509433,0.7358490566037735,null,0.6415094339622641,1.1320754716981132,0.4716981132075472,0.7735849056603774,1.0,null,null,1.4339622641509433,1.509433962264151,0.5471698113207547,2.188679245283019,null,1.6415094339622642,1.7169811320754718,2.4150943396226414,0.7358490566037735,3.0754716981132075,1.3584905660377358,0.8113207547169812,0.92452830188679,1.4528301886792452,0.7547169811320755,1.2264150943396226,1.1320754716981132,1.8867924528301887,1.169811320754717,2.3773584905660377,null,1.3962264150943395,1.8867924528301887,null,1.471698113207547,1.3396226415094,0.7358490566037735,0.9056603773584906,0.7169811320754716,1.7924528301887,1.0,1.2641509433962264,0.5660377358490566],"xaxis":"x","y":[87.5,28.104575163398692,12.021857923497267,30.107526881720432,35.22727272727273,7.428571428571429,36.36363636363637,36.206896551724135,12.903225806451612,19.565217391304348,87.79069767441861,0.6172839506172839,15.028901734104046,17.46031746031746,40.98360655737705,10.21505376344086,72.0,82.88770053475936,64.12213740458014,19.12568306010929,96.875,78.3068783068783,74.60317460317461,61.212121212121204,95.23809523809523,33.82352941176471,41.66666666666667,43.90243902439025,3.0864197530864197,79.67914438502673,99.46808510638297,33.5483870967742,29.464285714285715,11.904761904761903,48.888888888888886,77.61194029850746,68.18181818181817,28.169014084507044,17.88617886178862,92.0,0.7874015748031495,97.53086419753086,54.25531914893617,81.02189781021897,76.0,95.18716577540107,45.1219512195122,21.50537634408602,83.42245989304813,33.69565217391305,77.6595744680851,33.33333333333333,81.48148148148148,97.16312056737588,92.52873563218391,92.06349206349206,6.422018348623854,10.967741935483872,19.444444444444446,64.55026455026454,89.44099378881988,2.6785714285714284,30.681818181818183,61.29032258064516,49.18032786885246,44.44444444444444,90.9090909090909,55.223880597014926,90.86021505376344,30.057803468208093,6.569343065693431,2.1164021164021163,9.58904109589041,80.0,90.37433155080214,13.10344827586207,89.78494623655914,92.3076923076923,8.60215053763441,21.98581560283688,83.87096774193549,71.42857142857143,25.97402597402597,7.142857142857142,84.21052631578947,94.8051948051948,71.875,65.60846560846561,1.098901098901099,22.674418604651162,2.0,17.582417582417584,11.510791366906476,3.428571428571429,21.73913043478261,72.97297297297297,57.692307692307686,86.89655172413792,17.72151898734177,25.581395348837212,85.02673796791443,95.13888888888889,16.901408450704224,6.521739130434782,95.45454545454545,3.7593984962406015,12.903225806451612,53.54330708661418,71.12299465240642,58.333333333333336,91.66666666666666,54.395604395604394,26.666666666666668,87.83068783068782,29.72972972972973,50.0,62.589928057553955,33.68983957219251,6.578947368421052,20.855614973262032,85.71428571428571,38.095238095238095,64.70588235294117,40.625,96.29629629629629,98.75,95.0,41.340782122905026,7.936507936507936,46.36871508379888,28.08988764044944,80.26315789473685,28.205128205128204,33.9622641509434,56.00000000000001,96.42857142857143,72.4867724867725,39.884393063583815,54.23728813559322,32.544378698224854,3.428571428571429,18.181818181818183,80.95238095238095,58.730158730158735,84.84848484848484,93.01075268817203,88.26815642458101,18.823529411764707,68.08510638297872,89.01098901098901,83.13253012048193,85.0,86.1271676300578,7.471264367816093,57.25190839694656,84.57446808510637,92.53731343283582,13.445378151260504,26.41509433962264,92.42424242424242,49.2063492063492,73.91304347826086,28.07017543859649,80.95238095238095,43.103448275862064,80.42328042328042,93.10344827586206,87.09677419354838,49.30555555555556,30.88235294117647,28.07017543859649,77.35849056603774,94.97206703910615,30.89430894308943,81.48148148148148,88.37209302325581],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>data_coverage_per = 2.57438 * bsi_gsi + 45.9725<br>R<sup>2</sup>=0.002233<br><br>BSI_GSI=%{x}<br>Data Coverage (%)=%{y} <b>(trend)</b><extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"lines","name":"","showlegend":false,"x":[0.4339622641509434,0.4716981132075472,0.4716981132075472,0.5094339622641509,0.5283018867924528,0.5471698113207547,0.5660377358490566,0.5660377358490566,0.5849056603773585,0.6415094339622641,0.660377358490566,0.6981132075471698,0.6981132075471698,0.69811320754717,0.7169811320754716,0.7358490566037735,0.7358490566037735,0.7358490566037735,0.7358490566037735,0.7358490566037735,0.7547169811320755,0.7547169811320755,0.7547169811320755,0.7735849056603774,0.7735849056603774,0.7924528301886793,0.7924528301886793,0.7924528301886793,0.79245283018868,0.8113207547169812,0.8113207547169812,0.8301886792452831,0.8301886792452831,0.8490566037735849,0.8490566037735849,0.8867924528301887,0.9056603773584906,0.9056603773584906,0.92452830188679,0.9245283018867924,0.9433962264150944,0.9622641509433962,0.9622641509433962,0.9622641509433962,0.9622641509433962,0.9622641509434,0.981132075471698,0.981132075471698,0.9811320754716981,1.0,1.0,1.0188679245283,1.018867924528302,1.018867924528302,1.018867924528302,1.0377358490566,1.0566037735849,1.0566037735849056,1.0566037735849056,1.0754716981132,1.0754716981132075,1.0754716981132075,1.0754716981132075,1.0943396226415094,1.0943396226415094,1.1132075471698,1.1132075471698113,1.1132075471698113,1.1320754716981,1.1320754716981132,1.1320754716981132,1.1320754716981132,1.1320754716981132,1.150943396226415,1.169811320754717,1.169811320754717,1.1886792452830188,1.2264150943396226,1.2264150943396226,1.2264150943396226,1.2452830188679245,1.2452830188679245,1.2641509433962,1.2641509433962264,1.2641509433962264,1.3207547169811,1.320754716981132,1.320754716981132,1.3396226415094,1.339622641509434,1.339622641509434,1.3584905660377358,1.3584905660377358,1.3773584905660377,1.3962264150943395,1.3962264150943395,1.3962264150943395,1.4150943396226414,1.4150943396226414,1.4339622641509433,1.4339622641509433,1.4339622641509433,1.4339622641509433,1.4339622641509433,1.4528301886792,1.4528301886792452,1.471698113207547,1.471698113207547,1.490566037735849,1.490566037735849,1.509433962264151,1.5660377358490567,1.5660377358490567,1.5660377358491,1.5660377358491,1.5849056603773586,1.5849056603774,1.6037735849056605,1.6037735849056605,1.622641509434,1.6415094339622642,1.6415094339622642,1.679245283018868,1.69811320754717,1.6981132075472,1.7169811320754718,1.7358490566037736,1.7358490566037736,1.7924528301887,1.8113207547169807,1.811320754717,1.811320754717,1.830188679245283,1.830188679245283,1.849056603773585,1.8867924528301887,1.8867924528301887,1.8867924528301887,1.9811320754717,2.150943396226415,2.150943396226415,2.188679245283019,2.188679245283019,2.358490566037736,2.3773584905660377,2.4150943396226414,2.5283018867924527,2.811320754716981,2.849056603773585,2.8867924528301887,3.0754716981132075,3.509433962264151,3.679245283018868],"xaxis":"x","y":[47.089702654328086,47.186849209282606,47.186849209282606,47.283995764237126,47.332569041714386,47.381142319191646,47.429715596668906,47.429715596668906,47.478288874146166,47.624008706577946,47.672581984055206,47.76972853900973,47.76972853900973,47.76972853900973,47.81830181648699,47.86687509396425,47.86687509396425,47.86687509396425,47.86687509396425,47.86687509396425,47.915448371441514,47.915448371441514,47.915448371441514,47.964021648918774,47.964021648918774,48.012594926396034,48.012594926396034,48.012594926396034,48.012594926396034,48.061168203873294,48.061168203873294,48.109741481350554,48.109741481350554,48.158314758827814,48.158314758827814,48.255461313782334,48.304034591259594,48.304034591259594,48.35260786873685,48.352607868736854,48.401181146214114,48.449754423691374,48.449754423691374,48.449754423691374,48.449754423691374,48.44975442369138,48.498327701168634,48.498327701168634,48.498327701168634,48.546900978645894,48.546900978645894,48.59547425612315,48.595474256123154,48.595474256123154,48.595474256123154,48.6440475336004,48.69262081107766,48.692620811077674,48.692620811077674,48.74119408855491,48.741194088554934,48.741194088554934,48.741194088554934,48.789767366032194,48.789767366032194,48.838340643509426,48.838340643509454,48.838340643509454,48.88691392098668,48.886913920986714,48.886913920986714,48.886913920986714,48.886913920986714,48.935487198463974,48.984060475941234,48.984060475941234,49.032633753418494,49.129780308373014,49.129780308373014,49.129780308373014,49.178353585850274,49.178353585850274,49.22692686332746,49.226926863327535,49.226926863327535,49.37264669575923,49.372646695759315,49.372646695759315,49.42121997323649,49.421219973236575,49.421219973236575,49.469793250713835,49.469793250713835,49.518366528191095,49.566939805668355,49.566939805668355,49.566939805668355,49.615513083145615,49.615513083145615,49.664086360622875,49.664086360622875,49.664086360622875,49.664086360622875,49.664086360622875,49.71265963810002,49.712659638100135,49.761232915577395,49.761232915577395,49.809806193054655,49.809806193054655,49.858379470531915,50.004099302963695,50.004099302963695,50.00409930296381,50.00409930296381,50.052672580440955,50.05267258044106,50.101245857918215,50.101245857918215,50.149819135395575,50.198392412872735,50.198392412872735,50.295538967827255,50.344112245304515,50.34411224530459,50.392685522781775,50.441258800259035,50.441258800259035,50.58697863269087,50.635551910168076,50.635551910168125,50.635551910168125,50.684125187645336,50.684125187645336,50.732698465122596,50.829845020077116,50.829845020077116,50.829845020077116,51.07271140746342,51.50987090475876,51.50987090475876,51.60701745971328,51.60701745971328,52.044176957008624,52.092750234485884,52.189896789440404,52.481336454303964,53.209935616462865,53.307082171417385,53.404228726371905,53.889961501144505,55.00714688312149,55.44430638041683],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"BSI_GSI"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Data Coverage (%)"}},"legend":{"tracegroupgap":0},"title":{"text":"Correlation between data coverage and Global Severity Index"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('aa3107f0-35cc-444d-8c67-2f1c2b7618cb');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="passive-data" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="passive-data"><span class="header-section-number">4.4</span> Passive data</h3>
<div id="cell-16" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df_pd_merged <span class="op">=</span> df_passive.merge(df_monitoring, on <span class="op">=</span> <span class="st">"customer"</span>, how<span class="op">=</span><span class="st">"inner"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-17" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_pd_coverage <span class="op">=</span> df_pd_merged[[<span class="st">"customer"</span>, <span class="st">"data_coverage_per"</span>, <span class="st">"bsi_gsi"</span>, <span class="st">"age"</span>, <span class="st">"ema_smartphone_description"</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"scid_cv_description"</span>, <span class="st">"gender_description"</span>]].drop_duplicates(subset<span class="op">=</span>[<span class="st">"customer"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-18" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming df_gps_coverage is your DataFrame</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.violin(df_pd_coverage, </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                y<span class="op">=</span><span class="st">"data_coverage_per"</span>, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                x<span class="op">=</span><span class="st">"ema_smartphone_description"</span>, </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                box<span class="op">=</span><span class="va">True</span>,  <span class="co"># Shows a box plot inside the violin</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                title<span class="op">=</span><span class="st">"Passive Data Coverage per Smartphone"</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="3d041340-b993-4d0d-b1b9-95b73e889efa" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3d041340-b993-4d0d-b1b9-95b73e889efa")) {                    Plotly.newPlot(                        "3d041340-b993-4d0d-b1b9-95b73e889efa",                        [{"alignmentgroup":"True","box":{"visible":true},"hovertemplate":"ema_smartphone_description=%{x}<br>data_coverage_per=%{y}<extra></extra>","legendgroup":"","marker":{"color":"#636efa"},"name":"","offsetgroup":"","orientation":"v","scalegroup":"True","showlegend":false,"x":["iPhone","iPhone","Android","Android","iPhone","Android","Android","Android","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","iPhone","Android","iPhone","iPhone","Android","Android","Android","Android","iPhone","iPhone","Android","Android","Android","Android","Android","Android","iPhone","Android","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","iPhone","Android","iPhone","Android","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","iPhone","iPhone","Android","iPhone","Android","iPhone","iPhone","Android","Android","Android","Android","Android","Android","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","iPhone","Android","iPhone","Android","Android","Android","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","iPhone","Android","iPhone","Android","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","Android","iPhone","Android","iPhone","Android","iPhone","Android","iPhone","Android","Android","iPhone","iPhone","Android","iPhone","Android","Android","Android","iPhone","Android","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","iPhone","Android","Android","iPhone","Android","iPhone","iPhone","Android","iPhone","iPhone","Android","Android","Android","Android","Android","Android","Android","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","iPhone","iPhone","iPhone","Android","iPhone","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","iPhone","Android","Android","iPhone","iPhone","iPhone","Android","iPhone","iPhone","iPhone","iPhone","iPhone","iPhone","Android"],"x0":" ","xaxis":"x","y":[87.5,10.457516339869281,49.18032786885246,95.76719576719577,10.795454545454545,30.158730158730158,97.40259740259741,81.48148148148148,94.92753623188406,99.4186046511628,8.522727272727272,78.3068783068783,11.11111111111111,22.950819672131146,92.0,99.47089947089947,99.23664122137404,95.18716577540107,93.75,99.47089947089947,99.20634920634922,99.39393939393939,91.17647058823529,94.04761904761905,39.02439024390244,9.25925925925926,92.06349206349206,99.46808510638297,78.70967741935485,97.35449735449735,98.4126984126984,90.47619047619048,90.0,36.7816091954023,88.05970149253731,83.76623376623377,92.95774647887323,10.569105691056912,84.61538461538461,16.0,16.535433070866144,97.5609756097561,10.582010582010582,99.27007299270073,68.0,99.47089947089947,98.78048780487805,99.47089947089947,99.47089947089947,95.23809523809523,99.47089947089947,75.0,98.94179894179894,99.29078014184397,99.42528735632183,99.47089947089947,37.5,10.32258064516129,97.22222222222221,99.47089947089947,93.7888198757764,69.84126984126983,98.86363636363636,99.35483870967742,98.36065573770492,96.29629629629629,77.27272727272727,97.01492537313433,96.82539682539682,95.76719576719577,7.2992700729927,6.878306878306878,9.58904109589041,99.47089947089947,99.47089947089947,11.03448275862069,96.82539682539682,92.3076923076923,37.4331550802139,99.29078014184397,98.94179894179894,98.57142857142858,98.7012987012987,20.12987012987013,88.7218045112782,99.35064935064936,56.25,58.82352941176471,86.62790697674419,16.666666666666664,99.47089947089947,14.388489208633093,89.14285714285714,11.594202898550725,97.88359788359789,57.692307692307686,99.3103448275862,1.89873417721519,25.581395348837212,83.5978835978836,99.30555555555556,95.77464788732394,32.608695652173914,95.45454545454545,19.548872180451127,12.096774193548388,97.63779527559055,99.46524064171123,92.26190476190477,91.66666666666666,99.47089947089947,25.0,98.4126984126984,18.91891891891892,87.5,99.28057553956835,96.82539682539682,94.04761904761905,99.47089947089947,85.71428571428571,97.61904761904762,13.227513227513226,96.29629629629629,43.75,96.29629629629629,83.125,97.5,99.47089947089947,7.936507936507936,97.76536312849163,92.13483146067416,31.57894736842105,85.47008547008546,4.232804232804233,99.37106918238993,84.0,92.85714285714286,98.4126984126984,99.42196531791907,97.88359788359789,99.47089947089947,28.57142857142857,90.9090909090909,85.71428571428571,96.96969696969697,99.47089947089947,99.47089947089947,17.647058823529413,98.4126984126984,99.45054945054946,98.79518072289156,10.052910052910052,97.5,99.42196531791907,14.367816091954023,99.23664122137404,99.47089947089947,98.50746268656717,13.445378151260504,25.925925925925924,45.06172839506173,95.45454545454545,12.698412698412698,99.31972789115646,19.298245614035086,95.23809523809523,98.4126984126984,97.88359788359789,79.3103448275862,87.83068783068782,99.30555555555556,25.0,22.807017543859647,98.11320754716981,98.32402234636871,44.71544715447154,96.29629629629629,97.67441860465115],"y0":" ","yaxis":"y","type":"violin"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"ema_smartphone_description"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"data_coverage_per"}},"legend":{"tracegroupgap":0},"title":{"text":"Passive Data Coverage per Smartphone"},"violinmode":"group"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3d041340-b993-4d0d-b1b9-95b73e889efa');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="cell-19" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming df_gps_coverage is your DataFrame</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.violin(df_pd_coverage, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                y<span class="op">=</span><span class="st">"data_coverage_per"</span>, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                x<span class="op">=</span><span class="st">"scid_cv_description"</span>, </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                box<span class="op">=</span><span class="va">True</span>,  <span class="co"># Shows a box plot inside the violin</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                points<span class="op">=</span><span class="st">'all'</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                title<span class="op">=</span><span class="st">"Passive Data Coverage SCID Diagnosis"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#fig.show()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ema-data" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="ema-data"><span class="header-section-number">4.5</span> EMA data</h3>
<div id="cell-21" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_active.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>Index(['customer', 'sessionRun', 'quest_create', 'quest_complete', 'study',
       'ema_id', 'study_version', 'for_id', 'status', 'ema_start_date',
       'ema_smartphone', 'ema_wear_exp', 'ema_special_event', 'age', 'gender',
       'marital_status', 'partnership', 'graduation', 'profession',
       'years_of_education', 'employability', 'ses', 'somatic_problems',
       'scid_cv_prim_cat', 'bsi_somatization', 'prior_treatment',
       'bsi_compulsivity', 'bsi_insecurity', 'bsi_depression', 'bsi_anxiety',
       'bsi_aggression', 'bsi_phobia', 'bsi_paranoia', 'bsi_psychotizism',
       'bsi_additional', 'bsi_gs', 'bsi_gsi', 'gender_description',
       'scid_cv_description', 'marital_status_description',
       'employability_description', 'graduation_description',
       'profession_description', 'prior_treatment_description',
       'ema_smartphone_description', 'ema_special_event_description',
       'costs_ema_min', 'costs_ema_burden', 'costs_ema_text',
       'quest_create_day', 'quest_complete_day', 'quest_create_hour',
       'quest_complete_hour', 'nquest_EMA1', 'nquest_EMA2',
       'quest_complete_relative1', 'daily_entries_sum'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-22" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df_gps.relative_day.<span class="bu">max</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>187</code></pre>
</div>
</div>
</section>
<section id="data-coverage-across-time" class="level3" data-number="4.6">
<h3 data-number="4.6" class="anchored" data-anchor-id="data-coverage-across-time"><span class="header-section-number">4.6</span> Data coverage across time</h3>
<div id="cell-24" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df_gps_merged_active <span class="op">=</span> df_gps_merged.loc[df_gps_merged.status.isin([<span class="st">'Erhebung_1_aktiv'</span>, <span class="st">'Post_Erhebung_1'</span>, <span class="st">'Post_Erhebung_2'</span>,<span class="st">'Erhebung_2_aktiv'</span>, <span class="st">'Abgeschlossen'</span>])]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df_gps_merged_active <span class="op">=</span> df_gps_merged_active.loc[df_gps_merged_active.study_version.isin([<span class="st">'Lang'</span>, <span class="st">'Lang(Wechsel)'</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-25" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df_pd_merged_active <span class="op">=</span> df_pd_merged.loc[df_pd_merged.status.isin([<span class="st">'Erhebung_1_aktiv'</span>, <span class="st">'Post_Erhebung_1'</span>, <span class="st">'Post_Erhebung_2'</span>,<span class="st">'Erhebung_2_aktiv'</span>, <span class="st">'Abgeschlossen'</span>])]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df_pd_merged_active <span class="op">=</span> df_pd_merged_active.loc[df_pd_merged_active.study_version.isin([<span class="st">'Lang'</span>, <span class="st">'Lang(Wechsel)'</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-26" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df_gps_merged_active <span class="op">=</span> df_gps_merged_active.loc[df_gps_merged_active.potential_days_coverage <span class="op">&gt;=</span><span class="dv">60</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>df_pd_merged_active <span class="op">=</span> df_pd_merged_active.loc[df_pd_merged_active.potential_days_coverage <span class="op">&gt;=</span><span class="dv">60</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-27" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total number of unique customers in each DataFrame</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>total_gps_customers <span class="op">=</span> df_gps_merged_active[<span class="st">'customer'</span>].nunique()</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>total_smartwatch_customers <span class="op">=</span> df_pd_merged_active[<span class="st">'customer'</span>].nunique()</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of unique customers per day for GPS and smartwatch data</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>gps_customer_data <span class="op">=</span> df_gps_merged_active.groupby(<span class="st">'relative_day'</span>)[<span class="st">'customer'</span>].nunique().reset_index()</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>smartwatch_customer_data <span class="op">=</span> df_pd_merged_active.groupby(<span class="st">'relative_day'</span>)[<span class="st">'customer'</span>].nunique().reset_index()</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentages</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>gps_customer_data[<span class="st">'percentage_of_customers'</span>] <span class="op">=</span> (gps_customer_data[<span class="st">'customer'</span>] <span class="op">/</span> total_gps_customers) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>smartwatch_customer_data[<span class="st">'percentage_of_customers'</span>] <span class="op">=</span> (smartwatch_customer_data[<span class="st">'customer'</span>] <span class="op">/</span> total_smartwatch_customers) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with all days from 1 to 100</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>all_days <span class="op">=</span> pd.DataFrame({<span class="st">'relative_day'</span>: <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">61</span>)})</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge and fill missing days with 0 for both datasets</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>complete_gps_data <span class="op">=</span> all_days.merge(gps_customer_data, on<span class="op">=</span><span class="st">'relative_day'</span>, how<span class="op">=</span><span class="st">'left'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>complete_smartwatch_data <span class="op">=</span> all_days.merge(smartwatch_customer_data, on<span class="op">=</span><span class="st">'relative_day'</span>, how<span class="op">=</span><span class="st">'left'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge both datasets into a single DataFrame for plotting</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> complete_gps_data[[<span class="st">'relative_day'</span>, <span class="st">'percentage_of_customers'</span>]].rename(columns<span class="op">=</span>{<span class="st">'percentage_of_customers'</span>: <span class="st">'gps_percentage'</span>})</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> plot_data.merge(complete_smartwatch_data[[<span class="st">'relative_day'</span>, <span class="st">'percentage_of_customers'</span>]], on<span class="op">=</span><span class="st">'relative_day'</span>, how<span class="op">=</span><span class="st">'left'</span>).fillna(<span class="dv">0</span>).rename(columns<span class="op">=</span>{<span class="st">'percentage_of_customers'</span>: <span class="st">'smartwatch_percentage'</span>})</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the line plot</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.line(plot_data,</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>              x<span class="op">=</span><span class="st">'relative_day'</span>,</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>              y<span class="op">=</span>[<span class="st">'gps_percentage'</span>, <span class="st">'smartwatch_percentage'</span>],</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>              title<span class="op">=</span><span class="ss">f'Coverage of GPS and Smartwatch data. N=</span><span class="sc">{</span><span class="bu">str</span>(total_smartwatch_customers)<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>              labels<span class="op">=</span>{<span class="st">'value'</span>: <span class="st">'Percentage of available patients'</span>, <span class="st">'variable'</span>: <span class="st">'Data Source'</span>, <span class="st">'relative_day'</span>: <span class="st">'Relative Day'</span>},</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>              markers<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a vertical line at relative day 15</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>fig.add_vline(x<span class="op">=</span><span class="dv">15</span>, line_width<span class="op">=</span><span class="dv">1</span>, line_dash<span class="op">=</span><span class="st">"dash"</span>, line_color<span class="op">=</span><span class="st">"grey"</span>)</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Update legend titles</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>fig.update_layout(legend_title_text<span class="op">=</span><span class="st">'Data Source'</span>)</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>fig.update_traces(mode<span class="op">=</span><span class="st">'lines+markers'</span>)</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="aa87fca3-fdf6-42aa-8e9a-6061a3a58f5e" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("aa87fca3-fdf6-42aa-8e9a-6061a3a58f5e")) {                    Plotly.newPlot(                        "aa87fca3-fdf6-42aa-8e9a-6061a3a58f5e",                        [{"hovertemplate":"Data Source=gps_percentage<br>Relative Day=%{x}<br>Percentage of available patients=%{y}<extra></extra>","legendgroup":"gps_percentage","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"gps_percentage","orientation":"v","showlegend":true,"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],"xaxis":"x","y":[74.46808510638297,68.08510638297872,73.40425531914893,73.40425531914893,72.3404255319149,73.40425531914893,70.2127659574468,71.27659574468085,71.27659574468085,71.27659574468085,68.08510638297872,71.27659574468085,73.40425531914893,71.27659574468085,70.2127659574468,60.63829787234043,58.51063829787234,54.25531914893617,52.12765957446809,53.191489361702125,56.38297872340425,54.25531914893617,54.25531914893617,57.446808510638306,57.446808510638306,57.446808510638306,65.95744680851064,65.95744680851064,67.02127659574468,61.702127659574465,55.319148936170215,62.76595744680851,63.829787234042556,63.829787234042556,59.57446808510638,59.57446808510638,48.93617021276596,46.808510638297875,53.191489361702125,52.12765957446809,57.446808510638306,56.38297872340425,54.25531914893617,53.191489361702125,55.319148936170215,54.25531914893617,55.319148936170215,57.446808510638306,60.63829787234043,55.319148936170215,53.191489361702125,48.93617021276596,60.63829787234043,61.702127659574465,62.76595744680851,62.76595744680851,65.95744680851064,63.829787234042556,63.829787234042556,61.702127659574465],"yaxis":"y","type":"scatter"},{"hovertemplate":"Data Source=smartwatch_percentage<br>Relative Day=%{x}<br>Percentage of available patients=%{y}<extra></extra>","legendgroup":"smartwatch_percentage","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"smartwatch_percentage","orientation":"v","showlegend":true,"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],"xaxis":"x","y":[96.84210526315789,98.94736842105263,98.94736842105263,97.89473684210527,98.94736842105263,98.94736842105263,98.94736842105263,98.94736842105263,98.94736842105263,98.94736842105263,98.94736842105263,97.89473684210527,98.94736842105263,97.89473684210527,98.94736842105263,97.89473684210527,98.94736842105263,98.94736842105263,97.89473684210527,97.89473684210527,97.89473684210527,96.84210526315789,96.84210526315789,97.89473684210527,97.89473684210527,97.89473684210527,97.89473684210527,97.89473684210527,96.84210526315789,97.89473684210527,95.78947368421052,94.73684210526315,93.6842105263158,94.73684210526315,94.73684210526315,94.73684210526315,95.78947368421052,95.78947368421052,95.78947368421052,95.78947368421052,97.89473684210527,95.78947368421052,95.78947368421052,93.6842105263158,94.73684210526315,94.73684210526315,94.73684210526315,94.73684210526315,95.78947368421052,95.78947368421052,95.78947368421052,95.78947368421052,95.78947368421052,95.78947368421052,95.78947368421052,95.78947368421052,94.73684210526315,92.63157894736842,93.6842105263158,91.57894736842105],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Relative Day"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Percentage of available patients"}},"legend":{"title":{"text":"Data Source"},"tracegroupgap":0},"title":{"text":"Coverage of GPS and Smartwatch data. N=95"},"shapes":[{"line":{"color":"grey","dash":"dash","width":1},"type":"line","x0":15,"x1":15,"xref":"x","y0":0,"y1":1,"yref":"y domain"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('aa87fca3-fdf6-42aa-8e9a-6061a3a58f5e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="cell-28" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total number of unique customers in each category from the updated DataFrame</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>total_customers_by_category <span class="op">=</span> df_gps_merged_active.groupby(<span class="st">'ema_smartphone_description'</span>)[<span class="st">'customer'</span>].nunique()</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of unique customers per day for each category from the updated DataFrame</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>category_customer_data <span class="op">=</span> df_gps_merged_active.groupby([<span class="st">'relative_day'</span>, <span class="st">'ema_smartphone_description'</span>])[<span class="st">'customer'</span>].nunique().reset_index()</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentages for each category</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>category_customer_data[<span class="st">'percentage_of_customers'</span>] <span class="op">=</span> category_customer_data.<span class="bu">apply</span>(</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> row: (row[<span class="st">'customer'</span>] <span class="op">/</span> total_customers_by_category[row[<span class="st">'ema_smartphone_description'</span>]]) <span class="op">*</span> <span class="dv">100</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with all days from 1 to 100 for merging</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>all_days <span class="op">=</span> pd.DataFrame({<span class="st">'relative_day'</span>: <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">101</span>)})</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge to ensure every day is represented in each category, fill missing values with 0</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> pd.DataFrame()  <span class="co"># Initialize an empty DataFrame to store the merged data</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> category <span class="kw">in</span> category_customer_data[<span class="st">'ema_smartphone_description'</span>].unique():</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    temp_data <span class="op">=</span> category_customer_data[category_customer_data[<span class="st">'ema_smartphone_description'</span>] <span class="op">==</span> category]</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    merged_data <span class="op">=</span> all_days.merge(temp_data[[<span class="st">'relative_day'</span>, <span class="st">'percentage_of_customers'</span>]], on<span class="op">=</span><span class="st">'relative_day'</span>, how<span class="op">=</span><span class="st">'left'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    merged_data[<span class="st">'ema_smartphone_description'</span>] <span class="op">=</span> category</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    plot_data <span class="op">=</span> pd.concat([plot_data, merged_data])</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the line plot</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.line(plot_data,</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>              x<span class="op">=</span><span class="st">'relative_day'</span>,</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>              y<span class="op">=</span><span class="st">'percentage_of_customers'</span>,</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>              color<span class="op">=</span><span class="st">'ema_smartphone_description'</span>,</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>              title<span class="op">=</span><span class="st">'GPS coverage by Smartphone Type'</span>,</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>              labels<span class="op">=</span>{<span class="st">'percentage_of_customers'</span>: <span class="st">'% Patients'</span>, <span class="st">'relative_day'</span>: <span class="st">'Relative Day'</span>},</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>              markers<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Update the layout to adjust legend and traces</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>fig.update_layout(legend_title_text<span class="op">=</span><span class="st">'Smartphone Type'</span>)</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>fig.update_traces(mode<span class="op">=</span><span class="st">'lines+markers'</span>)</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="ac0a79a3-41e8-421c-ac6e-d49ec49a9d5f" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("ac0a79a3-41e8-421c-ac6e-d49ec49a9d5f")) {                    Plotly.newPlot(                        "ac0a79a3-41e8-421c-ac6e-d49ec49a9d5f",                        [{"hovertemplate":"ema_smartphone_description=Android<br>Relative Day=%{x}<br>% Patients=%{y}<extra></extra>","legendgroup":"Android","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Android","orientation":"v","showlegend":true,"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"xaxis":"x","y":[67.44186046511628,51.162790697674424,53.48837209302325,55.81395348837209,58.139534883720934,55.81395348837209,48.837209302325576,53.48837209302325,51.162790697674424,51.162790697674424,53.48837209302325,58.139534883720934,60.46511627906976,51.162790697674424,48.837209302325576,32.55813953488372,34.883720930232556,27.906976744186046,18.6046511627907,23.25581395348837,27.906976744186046,23.25581395348837,30.23255813953488,30.23255813953488,23.25581395348837,25.581395348837212,34.883720930232556,44.18604651162791,44.18604651162791,30.23255813953488,30.23255813953488,41.86046511627907,41.86046511627907,34.883720930232556,30.23255813953488,27.906976744186046,25.581395348837212,18.6046511627907,30.23255813953488,25.581395348837212,25.581395348837212,25.581395348837212,18.6046511627907,20.930232558139537,20.930232558139537,27.906976744186046,27.906976744186046,37.2093023255814,34.883720930232556,25.581395348837212,25.581395348837212,16.27906976744186,32.55813953488372,32.55813953488372,34.883720930232556,32.55813953488372,41.86046511627907,39.53488372093023,37.2093023255814,41.86046511627907,34.883720930232556,41.86046511627907,30.23255813953488,44.18604651162791,37.2093023255814,34.883720930232556,44.18604651162791,37.2093023255814,27.906976744186046,44.18604651162791,34.883720930232556,37.2093023255814,37.2093023255814,39.53488372093023,37.2093023255814,30.23255813953488,32.55813953488372,30.23255813953488,39.53488372093023,48.837209302325576,46.51162790697674,39.53488372093023,37.2093023255814,41.86046511627907,32.55813953488372,20.930232558139537,16.27906976744186,25.581395348837212,18.6046511627907,18.6046511627907,20.930232558139537,32.55813953488372,25.581395348837212,25.581395348837212,30.23255813953488,34.883720930232556,25.581395348837212,27.906976744186046,32.55813953488372,30.23255813953488],"yaxis":"y","type":"scatter"},{"hovertemplate":"ema_smartphone_description=iPhone<br>Relative Day=%{x}<br>% Patients=%{y}<extra></extra>","legendgroup":"iPhone","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"iPhone","orientation":"v","showlegend":true,"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"xaxis":"x","y":[80.3921568627451,82.35294117647058,90.19607843137256,88.23529411764706,84.31372549019608,88.23529411764706,88.23529411764706,86.27450980392157,88.23529411764706,88.23529411764706,80.3921568627451,82.35294117647058,84.31372549019608,88.23529411764706,88.23529411764706,84.31372549019608,78.43137254901961,76.47058823529412,80.3921568627451,78.43137254901961,80.3921568627451,80.3921568627451,74.50980392156863,80.3921568627451,86.27450980392157,84.31372549019608,92.15686274509804,84.31372549019608,86.27450980392157,88.23529411764706,76.47058823529412,80.3921568627451,82.35294117647058,88.23529411764706,84.31372549019608,86.27450980392157,68.62745098039215,70.58823529411765,72.54901960784314,74.50980392156863,84.31372549019608,82.35294117647058,84.31372549019608,80.3921568627451,84.31372549019608,76.47058823529412,78.43137254901961,74.50980392156863,82.35294117647058,80.3921568627451,76.47058823529412,76.47058823529412,84.31372549019608,86.27450980392157,86.27450980392157,88.23529411764706,86.27450980392157,84.31372549019608,86.27450980392157,78.43137254901961,78.43137254901961,78.43137254901961,78.43137254901961,74.50980392156863,76.47058823529412,70.58823529411765,78.43137254901961,74.50980392156863,78.43137254901961,82.35294117647058,86.27450980392157,82.35294117647058,74.50980392156863,78.43137254901961,74.50980392156863,82.35294117647058,76.47058823529412,74.50980392156863,68.62745098039215,66.66666666666666,66.66666666666666,72.54901960784314,72.54901960784314,72.54901960784314,70.58823529411765,72.54901960784314,68.62745098039215,66.66666666666666,66.66666666666666,76.47058823529412,78.43137254901961,72.54901960784314,72.54901960784314,72.54901960784314,68.62745098039215,76.47058823529412,76.47058823529412,70.58823529411765,80.3921568627451,68.62745098039215],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Relative Day"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"% Patients"}},"legend":{"title":{"text":"Smartphone Type"},"tracegroupgap":0},"title":{"text":"GPS coverage by Smartphone Type"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('ac0a79a3-41e8-421c-ac6e-d49ec49a9d5f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>